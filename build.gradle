buildscript { scriptHandler ->
    apply from: 'repositories.gradle', to: scriptHandler
    apply from: 'dependencies.gradle'
    apply from: 'versions.gradle'
    dependencies {
        classpath "com.android.tools.build:gradle:${toolsBuildVersion}"
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion"
        classpath "io.gitlab.arturbosch.detekt:detekt-gradle-plugin:$detektVersion"
        classpath "androidx.navigation:navigation-safe-args-gradle-plugin:$navigationSafeArgVersion"
    }
}

plugins {
  id 'com.diffplug.gradle.spotless' version '3.14.0'
  id 'io.gitlab.arturbosch.detekt' version '1.0.0'
  id 'com.github.ben-manes.versions' version '0.21.0'
}

subprojects {
  buildscript {
    apply from: rootProject.file('repositories.gradle')
    apply from: rootProject.file('ktlint.gradle')
    apply from: rootProject.file('detekt.gradle')
    apply from: rootProject.file('spotless.gradle')
  }
}

task codeAnalysis(type: GradleBuild) {
  tasks = ["detekt", "ktlint", "lintDebug", "testDebugUnitTest"]
}
